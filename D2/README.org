# SPDX-FileCopyrightText: 2025 Germán Caggianese <german.caggianese@pm.me>
# SPDX-License-Identifier: GPL-3.0-or-later

#+title: Advent of Code 2025 - Day 2
* Puzzle [[https://adventofcode.com/2025/day/2][Day 2: Gift Shop]]
- Values II-FF separated by comma, where II means initial range and FF the final (both included).
** Input Structure
- No leading 0
- II < FF
- II is separated by - from FF
- *Invalid IDs*:
  + Reapeating patterns in the range
    + Ej. 11-22: \(\forall x \in [11,22] \cap \mathbb{N}^+\), here is easy to see that the only repeating pair of patterns are 11 and 22.
    + Ej. 11-33: \(\forall x \in [11,33] \cap \mathbb{N}^+\), the repeating patterns now include 33 [11, 22, 33].
  + *Odd-length* numbers are *ALWAYS valid*
    + 111 → 3 digits → can't split in pairs (valid)
    + 22022 → 5 digits → same (valid)
*** Even palindromic numbers:
- The approach will be to recognize that "invalid IDs" are numbers that can be expressed as two identical parts
- We can generate them by the formula: \( \text{Invalid} = d \times (10^n + 1) \) where:
  - *n* is half the number of digits
  - *d* is an n-digit base number

**** Mathematics behind:
- For a 2n-digit number to be "invalid", is easy, just \( \text{left-part} = \text{right-part} \).
- This can be expressed as:
  \( \text{number} = d \times 10^n + d \)
  \( \text{number} = d(10^n + 1) \)
- Where d is the n-digit "base" that repeats.

**** Examples by digits:
***** 2 digits (n=1):
- This case is elemental, just 11 multiples.

***** 4 digits (n=2):
- Multiplier: \( 10^2 + 1 = 101 \)
- Valid d values: \( {10, 11, ..., 99} \)
- Invalid IDs: \( 1010, 1111, 1212, ..., 9999 \)
- Ex.: \( 1111 = 11 × 101 \)

***** 6 digits (n=3):
- ... same logic as n=2 ...

***** 8 digits (n=4):
- ... same logic as n=3 ...

***** 10 digits (n=5):
- Multiplier: \( 10^5 + 1 = 100001 \)
- Valid d values: \( {10000, 10001, ..., 99999} \)
- Ex.: \( 1188511885 = 11885 × 100001 \)

**** Detection Algorithm:
For any ~value~:
1. Calculate digit count: ~digits = floor(log₁₀(value)) + 1~
2. Check if even: ~if (digits % 2 ≠ 0) → valid (skip)~
3. Calculate the multiplier: ~M = 10^(digits/2) + 1~
4. Test divisibility: ~if (value % M == 0) → invalid~

**** Odd-digit numbers are always valid:
- Any number with odd digits cannot be split into two parts
- Ex.: 111, 212, 11011 all have 3 or 5 digits
- There's no way to express them as \( d \times (10^n + 1)\quad \text{where}\ n = \frac{\text{digits}}{2} \)
- Therefore *all odd-digit numbers are valid*.

**** Then:
- No need to check each digit manually
- Time complexity: O(1) per number
